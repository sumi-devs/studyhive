{"ast":null,"code":"var _jsxFileName = \"C:\\\\SEM 5\\\\Full Stack\\\\StudyHive\\\\client\\\\src\\\\components\\\\notes\\\\Notes.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { saveAs } from 'file-saver';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Notes extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: '',\n      tags: '',\n      textContent: '',\n      file: null,\n      summary: '',\n      loading: false,\n      error: ''\n    };\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n    this.handleFileChange = e => {\n      const file = e.target.files[0];\n      if (file && file.size > 5 * 1024 * 1024) {\n        // 5MB limit\n        this.setState({\n          error: 'File too large. Max 5MB allowed.'\n        });\n        return;\n      }\n      this.setState({\n        file,\n        error: ''\n      });\n    };\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const {\n        title,\n        tags,\n        textContent,\n        file\n      } = this.state;\n      if (!title || !textContent && !file) {\n        this.setState({\n          error: 'Please provide a title and either text or a file.'\n        });\n        return;\n      }\n      const formData = new FormData();\n      formData.append('title', title);\n      formData.append('tags', tags);\n      if (file) formData.append('file', file);\n      if (textContent) formData.append('textContent', textContent);\n      this.setState({\n        loading: true,\n        error: '',\n        summary: ''\n      });\n      try {\n        const token = localStorage.getItem('token'); // auth token\n        const res = await axios.post('http://localhost:5000/api/notes/summarize', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.setState({\n          summary: res.data.summary,\n          loading: false\n        });\n      } catch (err) {\n        console.error(err);\n        this.setState({\n          error: 'Error generating summary.',\n          loading: false\n        });\n      }\n    };\n    this.downloadSummary = () => {\n      const {\n        summary,\n        title\n      } = this.state;\n      if (!summary) return;\n      const blob = new Blob([summary], {\n        type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n      });\n      saveAs(blob, `${title || 'summary'}.docx`);\n    };\n  }\n  render() {\n    const {\n      title,\n      tags,\n      textContent,\n      loading,\n      error,\n      summary\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notes-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Upload Notes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          placeholder: \"Note Title\",\n          value: title,\n          onChange: this.handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"tags\",\n          placeholder: \"Tags (comma separated)\",\n          value: tags,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"textContent\",\n          placeholder: \"Or paste text here...\",\n          value: textContent,\n          onChange: this.handleChange,\n          rows: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".pdf,.txt\",\n          onChange: this.handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Summarizing...' : 'Generate Summary'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 19\n      }, this), summary && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-result\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Summary:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.downloadSummary,\n          children: \"Download as Word\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Notes;","map":{"version":3,"names":["React","Component","axios","saveAs","jsxDEV","_jsxDEV","Notes","constructor","args","state","title","tags","textContent","file","summary","loading","error","handleChange","e","setState","target","name","value","handleFileChange","files","size","handleSubmit","preventDefault","formData","FormData","append","token","localStorage","getItem","res","post","headers","Authorization","data","err","console","downloadSummary","blob","Blob","type","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","required","rows","accept","disabled","style","color","onClick"],"sources":["C:/SEM 5/Full Stack/StudyHive/client/src/components/notes/Notes.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { saveAs } from 'file-saver';\r\n\r\nclass Notes extends Component {\r\n  state = {\r\n    title: '',\r\n    tags: '',\r\n    textContent: '',\r\n    file: null,\r\n    summary: '',\r\n    loading: false,\r\n    error: ''\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.size > 5 * 1024 * 1024) { // 5MB limit\r\n      this.setState({ error: 'File too large. Max 5MB allowed.' });\r\n      return;\r\n    }\r\n    this.setState({ file, error: '' });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { title, tags, textContent, file } = this.state;\r\n    if (!title || (!textContent && !file)) {\r\n      this.setState({ error: 'Please provide a title and either text or a file.' });\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('title', title);\r\n    formData.append('tags', tags);\r\n    if (file) formData.append('file', file);\r\n    if (textContent) formData.append('textContent', textContent);\r\n\r\n    this.setState({ loading: true, error: '', summary: '' });\r\n\r\n    try {\r\n      const token = localStorage.getItem('token'); // auth token\r\n      const res = await axios.post('http://localhost:5000/api/notes/summarize', formData, {\r\n        headers: { \r\n          'Content-Type': 'multipart/form-data',\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      this.setState({ summary: res.data.summary, loading: false });\r\n    } catch (err) {\r\n      console.error(err);\r\n      this.setState({ error: 'Error generating summary.', loading: false });\r\n    }\r\n  };\r\n\r\n  downloadSummary = () => {\r\n    const { summary, title } = this.state;\r\n    if (!summary) return;\r\n    const blob = new Blob([summary], { type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' });\r\n    saveAs(blob, `${title || 'summary'}.docx`);\r\n  };\r\n\r\n  render() {\r\n    const { title, tags, textContent, loading, error, summary } = this.state;\r\n\r\n    return (\r\n      <div className=\"notes-container\">\r\n        <h2>Upload Notes</h2>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input \r\n            type=\"text\" \r\n            name=\"title\" \r\n            placeholder=\"Note Title\" \r\n            value={title} \r\n            onChange={this.handleChange} \r\n            required \r\n          />\r\n          <input \r\n            type=\"text\" \r\n            name=\"tags\" \r\n            placeholder=\"Tags (comma separated)\" \r\n            value={tags} \r\n            onChange={this.handleChange} \r\n          />\r\n          <textarea\r\n            name=\"textContent\"\r\n            placeholder=\"Or paste text here...\"\r\n            value={textContent}\r\n            onChange={this.handleChange}\r\n            rows={6}\r\n          />\r\n          <input \r\n            type=\"file\" \r\n            accept=\".pdf,.txt\" \r\n            onChange={this.handleFileChange} \r\n          />\r\n          <button type=\"submit\" disabled={loading}>\r\n            {loading ? 'Summarizing...' : 'Generate Summary'}\r\n          </button>\r\n        </form>\r\n\r\n        {error && <p style={{ color: 'red' }}>{error}</p>}\r\n\r\n        {summary && (\r\n          <div className=\"summary-result\">\r\n            <h3>Summary:</h3>\r\n            <p>{summary}</p>\r\n            <button onClick={this.downloadSummary}>Download as Word</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Notes;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,KAAK,SAASL,SAAS,CAAC;EAAAM,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAC5BC,KAAK,GAAG;MACNC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,IAAI,EAAE,IAAI;MACVC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAC;IAAA,KAEDC,YAAY,GAAIC,CAAC,IAAK;MACpB,IAAI,CAACC,QAAQ,CAAC;QAAE,CAACD,CAAC,CAACE,MAAM,CAACC,IAAI,GAAGH,CAAC,CAACE,MAAM,CAACE;MAAM,CAAC,CAAC;IACpD,CAAC;IAAA,KAEDC,gBAAgB,GAAIL,CAAC,IAAK;MACxB,MAAML,IAAI,GAAGK,CAAC,CAACE,MAAM,CAACI,KAAK,CAAC,CAAC,CAAC;MAC9B,IAAIX,IAAI,IAAIA,IAAI,CAACY,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,EAAE;QAAE;QACzC,IAAI,CAACN,QAAQ,CAAC;UAAEH,KAAK,EAAE;QAAmC,CAAC,CAAC;QAC5D;MACF;MACA,IAAI,CAACG,QAAQ,CAAC;QAAEN,IAAI;QAAEG,KAAK,EAAE;MAAG,CAAC,CAAC;IACpC,CAAC;IAAA,KAEDU,YAAY,GAAG,MAAOR,CAAC,IAAK;MAC1BA,CAAC,CAACS,cAAc,CAAC,CAAC;MAClB,MAAM;QAAEjB,KAAK;QAAEC,IAAI;QAAEC,WAAW;QAAEC;MAAK,CAAC,GAAG,IAAI,CAACJ,KAAK;MACrD,IAAI,CAACC,KAAK,IAAK,CAACE,WAAW,IAAI,CAACC,IAAK,EAAE;QACrC,IAAI,CAACM,QAAQ,CAAC;UAAEH,KAAK,EAAE;QAAoD,CAAC,CAAC;QAC7E;MACF;MAEA,MAAMY,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEpB,KAAK,CAAC;MAC/BkB,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEnB,IAAI,CAAC;MAC7B,IAAIE,IAAI,EAAEe,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEjB,IAAI,CAAC;MACvC,IAAID,WAAW,EAAEgB,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAElB,WAAW,CAAC;MAE5D,IAAI,CAACO,QAAQ,CAAC;QAAEJ,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAE,EAAE;QAAEF,OAAO,EAAE;MAAG,CAAC,CAAC;MAExD,IAAI;QACF,MAAMiB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;QAC7C,MAAMC,GAAG,GAAG,MAAMhC,KAAK,CAACiC,IAAI,CAAC,2CAA2C,EAAEP,QAAQ,EAAE;UAClFQ,OAAO,EAAE;YACP,cAAc,EAAE,qBAAqB;YACrCC,aAAa,EAAE,UAAUN,KAAK;UAChC;QACF,CAAC,CAAC;QAEF,IAAI,CAACZ,QAAQ,CAAC;UAAEL,OAAO,EAAEoB,GAAG,CAACI,IAAI,CAACxB,OAAO;UAAEC,OAAO,EAAE;QAAM,CAAC,CAAC;MAC9D,CAAC,CAAC,OAAOwB,GAAG,EAAE;QACZC,OAAO,CAACxB,KAAK,CAACuB,GAAG,CAAC;QAClB,IAAI,CAACpB,QAAQ,CAAC;UAAEH,KAAK,EAAE,2BAA2B;UAAED,OAAO,EAAE;QAAM,CAAC,CAAC;MACvE;IACF,CAAC;IAAA,KAED0B,eAAe,GAAG,MAAM;MACtB,MAAM;QAAE3B,OAAO;QAAEJ;MAAM,CAAC,GAAG,IAAI,CAACD,KAAK;MACrC,IAAI,CAACK,OAAO,EAAE;MACd,MAAM4B,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC7B,OAAO,CAAC,EAAE;QAAE8B,IAAI,EAAE;MAA0E,CAAC,CAAC;MACrHzC,MAAM,CAACuC,IAAI,EAAE,GAAGhC,KAAK,IAAI,SAAS,OAAO,CAAC;IAC5C,CAAC;EAAA;EAEDmC,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEnC,KAAK;MAAEC,IAAI;MAAEC,WAAW;MAAEG,OAAO;MAAEC,KAAK;MAAEF;IAAQ,CAAC,GAAG,IAAI,CAACL,KAAK;IAExE,oBACEJ,OAAA;MAAKyC,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9B1C,OAAA;QAAA0C,QAAA,EAAI;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACrB9C,OAAA;QAAM+C,QAAQ,EAAE,IAAI,CAAC1B,YAAa;QAAAqB,QAAA,gBAChC1C,OAAA;UACEuC,IAAI,EAAC,MAAM;UACXvB,IAAI,EAAC,OAAO;UACZgC,WAAW,EAAC,YAAY;UACxB/B,KAAK,EAAEZ,KAAM;UACb4C,QAAQ,EAAE,IAAI,CAACrC,YAAa;UAC5BsC,QAAQ;QAAA;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACF9C,OAAA;UACEuC,IAAI,EAAC,MAAM;UACXvB,IAAI,EAAC,MAAM;UACXgC,WAAW,EAAC,wBAAwB;UACpC/B,KAAK,EAAEX,IAAK;UACZ2C,QAAQ,EAAE,IAAI,CAACrC;QAAa;UAAA+B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC,eACF9C,OAAA;UACEgB,IAAI,EAAC,aAAa;UAClBgC,WAAW,EAAC,uBAAuB;UACnC/B,KAAK,EAAEV,WAAY;UACnB0C,QAAQ,EAAE,IAAI,CAACrC,YAAa;UAC5BuC,IAAI,EAAE;QAAE;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACF9C,OAAA;UACEuC,IAAI,EAAC,MAAM;UACXa,MAAM,EAAC,WAAW;UAClBH,QAAQ,EAAE,IAAI,CAAC/B;QAAiB;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC,CAAC,eACF9C,OAAA;UAAQuC,IAAI,EAAC,QAAQ;UAACc,QAAQ,EAAE3C,OAAQ;UAAAgC,QAAA,EACrChC,OAAO,GAAG,gBAAgB,GAAG;QAAkB;UAAAiC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,EAENnC,KAAK,iBAAIX,OAAA;QAAGsD,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAM,CAAE;QAAAb,QAAA,EAAE/B;MAAK;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEhDrC,OAAO,iBACNT,OAAA;QAAKyC,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B1C,OAAA;UAAA0C,QAAA,EAAI;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjB9C,OAAA;UAAA0C,QAAA,EAAIjC;QAAO;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChB9C,OAAA;UAAQwD,OAAO,EAAE,IAAI,CAACpB,eAAgB;UAAAM,QAAA,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7D,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAEV;AACF;AAEA,eAAe7C,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}